<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilis Paps Delivery</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet Routing Machine CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <img src="https://i.ibb.co/9mZvzsqs/bilispaps.png" alt="Bilis Paps Delivery" class="logo">
        </div>
        <h1>Bilis Paps Delivery</h1>
    </div>

    <div class="calculator">
        <div class="map-controls">
            <button id="useMyLocationBtn"><i class="fas fa-location-arrow"></i> Use My Location</button>
            <button id="manualStartBtn"><i class="fas fa-map-marker-alt"></i> Set Start Point</button>
            <button id="manualDestBtn"><i class="fas fa-flag-checkered"></i> Set Destination</button>
            <button id="clearStartBtn" disabled><i class="fas fa-trash-alt"></i> Clear Start</button>
        </div>
        
        <div id="map"></div>
        <div id="startPointInfo">Start point not set</div>
        
        <div class="search-box">
            <input type="text" id="destinationInput" placeholder="Enter destination address">
            <button id="calculateRouteBtn" disabled><i class="fas fa-route"></i> Calculate Route</button>
        </div>
        <div id="distanceResult">Waiting for route calculation...</div>
        
        <form id="priceCalculatorForm">
            <input type="hidden" id="distance" value="0">
            
            <div class="checkbox-label">
                <input type="checkbox" id="buyerService">
                <label for="buyerService"><i class="fas fa-shopping-bag"></i> Add Personal Buyer Service (₱70/hour, max 7kg)</label>
            </div>

            <div id="buyerFields">
                <label for="hours"><i class="fas fa-clock"></i> Hours Needed:</label>
                <input type="number" id="hours" step="0.5" min="0.5" value="1">
                
                <label for="weight"><i class="fas fa-weight-hanging"></i> Weight (kg):</label>
                <input type="number" id="weight" step="0.1" min="0.1" value="1">
                <div class="warning" id="weightWarning"><i class="fas fa-exclamation-triangle"></i> Exceeds 7kg limit! +₱10 per extra kg</div>
            </div>

            <button type="submit" id="calculatePriceBtn" disabled><i class="fas fa-calculator"></i> Calculate Total</button>
        </form>

        <div class="rider-info">
            <h3><i class="fas fa-user"></i> Rider Information</h3>
            <div class="form-group">
                <label for="riderName"><i class="fas fa-id-card"></i> Rider Name:</label>
                <input type="text" id="riderName" required>
            </div>
            <div class="form-group">
                <label for="riderId"><i class="fas fa-id-badge"></i> Booking Number:</label>
                <input type="text" id="riderId" required>
            </div>
        </div>
        
        <div class="transaction-buttons">
            <button id="confirmBookingBtn" disabled><i class="fas fa-check-circle"></i> Confirm Booking</button>
            <button id="completeTransactionBtn" disabled><i class="fas fa-check-double"></i> Complete Transaction</button>
        </div>

        <div class="result" id="result">
            <h3><i class="fas fa-receipt"></i> Price Breakdown</h3>
            <div id="deliveryCost"></div>
            <div id="buyerServiceDetails"></div>
            <p><strong id="totalPrice"></strong></p>
        </div>

        <div class="transaction-history" id="transactionHistory">
            <h3><i class="fas fa-history"></i> Recent Transactions</h3>
            <div id="transactionsList"></div>
        </div>
    </div>

    <footer class="footer">
        <div class="social-media">
            <a href="https://www.facebook.com/bilispaps" target="_blank" title="Facebook">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="tel:+639260419261" title="Call Us">
                <i class="fas fa-phone-alt"></i>
            </a>
        </div>
        <div class="contact-info">
            <i class="fas fa-phone-alt"></i>
            <span>+63 926 041 9261</span>
        </div>
        <div class="copyright">
            &copy; <span id="year"></span> Bilis Paps Delivery
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Leaflet Routing Machine -->
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <!-- Firebase SDK -->
    <script type="module" src="js/firebase-config.js"></script>
    <!-- Custom JS -->
    <script type="module" src="js/script.js"></script>
</body>
</html>
